<%= render "shared/header" %>

<div class="container">
  <div class="row">
    <div class="col-12 text-center title">
      <h1>予定詳細画面</h1>
    </div>
  <%= link_to '編集', edit_event_path %>
  <%= link_to '削除', event_path, data: { turbo_method: :delete} %>

  <% if @event.present? %>
    <div class="event-details">
      <div calss="event-date">
        <p style="display:inline;"><%= @event.start_time.strftime('%m/%d') %></p>
        <% if @event.start_time.to_date != (@event.end_time || @event.start_time).to_date %>
          <% if @event.end_time >= @event.start_time %>
            - <%= @event.end_time.strftime('%m/%d') %>
          <% end %>
        <% end %>
      </div>

      <div class="field">
        タイトル：<p style="display:inline;"><%= @event.title %></p>
      </div>

    <% if @event.location.present? %>
      <div class="field">
        場所：<p style="display:inline;"><%= @event.location %></p>
      </div>
    <% end %>

      <div class="field">
        時間：
        <% if @event.all_day? %>
          <p style="display:inline;">終日</p>
        <% else %>
          <p style="display:inline;"><%= @event.start_time.strftime('%H:%M') %> 〜 <%= @event.end_time.strftime('%H:%M') %></p>
        <% end %>
      </div>

    <% if @event.comment.present? %>
      <div class="field">
        詳細：<p style="display:inline;"><%= @event.comment %></p>
      </div>
    <% end %>

      <div class="field">
        カテゴリー：<%= @event.category.name %>
      </div>
      <% if @event.category.name == 'period' %>
      <div calss="field">
        次の予定日：<%= (@event.start_time.to_date + 28.days).strftime('%m/%d') %>
      </div>
      <% end %>
    </div>
  <% end %>
  </div>
</div>

<%= render "shared/footer" %>
